(this["webpackJsonpfirst-app"]=this["webpackJsonpfirst-app"]||[]).push([[5],{385:function(e,t,n){e.exports={picture:"ProfileInfo_picture__2dqFd",info:"ProfileInfo_info__1Yp8A",fullName:"ProfileInfo_fullName__2lhA9",contact:"ProfileInfo_contact__1k5zQ"}},386:function(e,t,n){e.exports={formControl:"FormsControls_formControl__16E4F",error:"FormsControls_error__1jxD_",formSummaryError:"FormsControls_formSummaryError__182ys"}},440:function(e,t,n){e.exports={posts:"Posts_posts__11wDi",addPostButton:"Posts_addPostButton__36-5P"}},441:function(e,t,n){e.exports={item:"Post_item__3z9fn"}},447:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(122),o=n(385),c=n.n(o),u=n(121),i=n.n(u),s=function(e){var t=Object(a.useState)(!1),n=Object(r.a)(t,2),o=n[0],c=n[1],u=Object(a.useState)(e.status),i=Object(r.a)(u,2),s=i[0],m=i[1];Object(a.useEffect)((function(){m(e.status)}),[e.status]);return l.a.createElement("div",null,!o&&l.a.createElement("div",null,l.a.createElement("span",{onDoubleClick:function(){c(!0)}},l.a.createElement("b",null,"Status"),": ",e.status||"No Status")),o&&l.a.createElement("div",{onBlur:function(){c(!1),e.updateStatus(s)}},l.a.createElement("input",{onChange:function(e){m(e.currentTarget.value)},autoFocus:!0,value:s})))},m=n(386),f=n.n(m),d=n(86),E=n(202),b=function(e){var t=e.meta,n=t.touched,a=t.error,r=e.children,o=n&&a;return l.a.createElement("div",{className:f.a.formControl+" "+(o?f.a.error:"")},r,o&&l.a.createElement("span",null,a))},p=function(e){var t=e.input,n=(e.meta,Object(d.a)(e,["input","meta"]));return l.a.createElement(b,e,l.a.createElement("textarea",Object.assign({},t,n)))},v=function(e){var t=e.input,n=(e.meta,Object(d.a)(e,["input","meta"]));return l.a.createElement(b,e,l.a.createElement("input",Object.assign({},t,n)))};function O(e,t,n,a,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return l.a.createElement("div",null,l.a.createElement(E.a,{placeholder:e,name:t,component:n,validate:a,type:r}),o)}var _=n(203),j=Object(_.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,n=e.profile,a=e.error;return l.a.createElement("form",{onSubmit:t},l.a.createElement("div",null,l.a.createElement("button",null,"Save")),a&&l.a.createElement("div",{className:f.a.formSummaryError},a),l.a.createElement("div",null,l.a.createElement("b",null,"Full name"),": ",O("Full name","fullName",v,[])),l.a.createElement("div",null,l.a.createElement("b",null,"About me"),": ",O("About me","aboutMe",p,[])),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job"),": ",O("","lookingForAJob",v,[],"checkbox")),l.a.createElement("div",null,l.a.createElement("b",null,"My professional skills"),": ",O("My Professional skills","lookingForAJobDescription",p,[])),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),": ",n&&Object.keys(n.contacts).map((function(e){return l.a.createElement("div",{className:c.a.contact,key:e},l.a.createElement("b",null,e),": ",O(e,"contacts.".concat(e),v,[]))}))))})),g=function(e){var t=e.profile,n=e.isOwner,a=e.toEditMode;return l.a.createElement("div",null,n&&l.a.createElement("div",null,l.a.createElement("button",{onClick:a},"Edit")),l.a.createElement("div",{className:c.a.fullName},null===t||void 0===t?void 0:t.fullName),l.a.createElement("div",null,l.a.createElement("b",null,"About me"),": ",(null===t||void 0===t?void 0:t.aboutMe)||" "),l.a.createElement("div",null,l.a.createElement("b",null,"Looking for a job"),": ",(null===t||void 0===t?void 0:t.lookingForAJob)?"yes":"no"),l.a.createElement("div",null,l.a.createElement("b",null,"My profesional skills"),": ",null===t||void 0===t?void 0:t.lookingForAJobDescription),l.a.createElement("div",null,l.a.createElement("b",null,"Contacts"),": ",t&&Object.keys(t.contacts).map((function(e){return l.a.createElement(h,{key:e,contactTitle:e,contactValue:t.contacts[e]})}))))},h=function(e){var t=e.contactTitle,n=e.contactValue;return l.a.createElement("div",{className:c.a.contact},l.a.createElement("b",null,t),": ",n)},k=function(e){var t=e.profile,n=e.status,o=e.updateStatus,u=e.isOwner,m=e.savePhoto,f=e.saveProfile,d=Object(a.useState)(!1),E=Object(r.a)(d,2),b=E[0],p=E[1];return l.a.createElement("div",{className:c.a.info},l.a.createElement("img",{src:(null===t||void 0===t?void 0:t.photos.large)||i.a,className:c.a.picture,alt:"userPhoto"}),u&&l.a.createElement("input",{type:"file",onChange:function(e){var t;(null===(t=e.target.files)||void 0===t?void 0:t.length)&&m(e.target.files[0])}}),b?l.a.createElement(j,{initialValues:t,onSubmit:function(e){f(e).then((function(){p(!1)}))},profile:t}):l.a.createElement(g,{profile:t,isOwner:u,toEditMode:function(){p(!0)}}),l.a.createElement(s,{status:n,updateStatus:o}))},P=n(123),S=n(440),y=n.n(S),N=n(441),x=n.n(N),C=function(e){return l.a.createElement("div",{className:x.a.item},l.a.createElement("img",{src:i.a,alt:"userPhoto"}),e.message,l.a.createElement("div",null,e.likes," like"))},F=n(29),A=function(e){var t;return e?e.length>100&&(t="Max length is 100 symbols"):t="Required",t},I=l.a.memo((function(e){return l.a.createElement("div",null,l.a.createElement(F.d,{initialValues:{postText:""},onSubmit:function(t,n){var a=n.setSubmitting;e.addPost(t.postText),a(!1)}},(function(e){var t=e.isSubmitting;return l.a.createElement(F.c,null,l.a.createElement(F.b,{type:"text",name:"postText",placeholder:"Write post",validate:A}),l.a.createElement(F.a,{name:"postText"}),l.a.createElement("button",{type:"submit",disabled:t},"Add Post"))})))})),M=l.a.memo((function(e){var t=e.posts.map((function(e){return l.a.createElement(C,{message:e.message,likes:e.likesCount,key:e.id,id:e.id})}));return l.a.createElement("div",{className:y.a.posts},l.a.createElement(I,{addPost:e.addPost}),l.a.createElement("div",null,t))})),w=n(8),T=P.d.addPost,D=Object(w.b)((function(e){return{posts:e.profile.posts}}),{addPost:T})(M),J=n(61),V=function(e){return e.profile.profile},z=function(e){return e.profile.status},B=n(62),L=n(12);t.default=function(e){var t=Object(w.d)(V),n=Object(w.d)(z),r=Object(w.d)(B.d),o=Object(w.c)(),c=Object(L.g)(),u=Object(L.h)(),i=function(){var e=+u.userId;e||(e=r)||c.push("/login"),e?(function(e){o(Object(P.b)(e))}(e),function(e){o(Object(P.c)(e))}(e)):console.error('ID should exist in URL params or in state ("authorizedUserId")')};return Object(a.useEffect)((function(){i()}),[u.userId]),t?l.a.createElement("div",null,l.a.createElement(k,{profile:t,status:n,updateStatus:function(e){return o(Object(P.g)(e))},isOwner:!u.userId,savePhoto:function(e){return o(Object(P.e)(e))},saveProfile:function(e){return o(Object(P.f)(e))}}),l.a.createElement(D,null)):l.a.createElement(J.a,null)}}}]);
//# sourceMappingURL=5.3a8ef81b.chunk.js.map